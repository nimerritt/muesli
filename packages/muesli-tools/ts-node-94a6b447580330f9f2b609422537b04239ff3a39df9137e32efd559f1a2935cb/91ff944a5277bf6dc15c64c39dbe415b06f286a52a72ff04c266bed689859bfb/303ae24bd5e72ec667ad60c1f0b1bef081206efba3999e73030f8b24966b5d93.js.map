{"version":3,"file":"/workspace/packages/muesli-tools/src/parse.ts","sources":["/workspace/packages/muesli-tools/src/parse.ts"],"names":[],"mappings":";;AAAA,0BAA4B;AAC5B,6BAA+B;AAW/B,sBAAsB,MAAoB;IACxC,MAAM,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,EAAE,UAAC,CAAC,EAAE,CAAC,IAAK,OAAA,GAAG,CAAC,MAAM,CAAC,QAAQ,CAC3D,CAAC,EACD,MAAM,CAAC,CAAC,CAAC,EACT,MAAM,CAAC,QAAQ,CAAC,OAAO,CAAC,CAAC,CAAC,KAAK,CAAC,CAAC;QAC/B,GAAG,CAAC,gBAAgB,CAAC,IAAI;QACzB,GAAG,CAAC,gBAAgB,CAAC,QAAQ,CAChC,EANyC,CAMzC,CAAC,CAAC;AACL,CAAC;AAED,gBAAgB,MAAkB;IAChC,MAAM,CAAC,CAAC,MAAM,CAAC,IAAI,CAAC,CAAC,CAAC;QACpB,KAAK,QAAQ;YACX,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QACzB,KAAK,QAAQ;YACX,MAAM,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,CAAC;QACzB,KAAK,OAAO;YACV,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,KAAK,CAAC,MAAM,CAAC,MAAM,CAAC,KAAK,CAAC,CAAC,CAAC;QAChD,KAAK,QAAQ;YACX,MAAM,CAAC,GAAG,CAAC,MAAM,CAAC,UAAU,CAAC,YAAY,CAAC,MAAM,CAAC,CAAC,CAAC;QACrD;YACE,IAAM,gBAAgB,GAAU,MAAM,CAAC;YACvC,MAAM,CAAC,gBAAgB,CAAC;IAC5B,CAAC;AACH,CAAC;AAED,yBAAgC,IAAY,EAAE,IAAkB;IAC9D,IAAM,IAAI,GAAG,GAAG,CAAC,MAAM,CAAC,SAAS,CAAC,MAAM,CAAC,CAAC;IAC1C,IAAI,CAAC,OAAO,GAAG,YAAY,CAAC,IAAI,CAAC,CAAC;IAClC,MAAM,CAAC,IAAI,CAAC;AACd,CAAC;AAJD,0CAIC","sourcesContent":["import * as _ from 'lodash';\nimport * as dom from 'dts-dom';\n\nimport {\n  MuesliSchema,\n  MuesliNode,\n  MuesliObject,\n  MuesliArray,\n  MuesliString,\n  MuesliNumber,\n} from '@nimerritt/muesli-schema';\n\nfunction tsProperties(schema: MuesliObject): Array<dom.PropertyDeclaration> {\n  return _.map(schema.properties, (v, k) => dom.create.property(\n    k,\n    tsType(v),\n    schema.required.indexOf(k) !== -1 ? \n      dom.DeclarationFlags.None :\n      dom.DeclarationFlags.Optional,\n  ));\n}\n\nfunction tsType(schema: MuesliNode): dom.Type {\n  switch (schema.type) {\n    case 'string': \n      return dom.type.string;\n    case 'number':\n      return dom.type.number;\n    case 'array':\n      return dom.create.array(tsType(schema.items));\n    case 'object':\n      return dom.create.objectType(tsProperties(schema));\n    default:\n      const _exhaustiveCheck: never = schema;\n      return _exhaustiveCheck;\n  }\n}\n\nexport function createInterface(name: string, root: MuesliObject): dom.InterfaceDeclaration {\n  const intf = dom.create.interface('Test');\n  intf.members = tsProperties(root);\n  return intf;\n}\n\n"]}